<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>

<link href="../scr/WebViews.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
  <script type="text/javascript" src="spin.min.js"></script>
<script type="text/javascript">

$(document).ready(function(){


});
function dispatch() {
  
  g();
  eval("g = Function('console.log(\"dynamic function\");');"+
         "document.getElementById('buttonId').disabled = true;"
         
         );
    f();
    
  
}

function spin(id) {    
  var opts = {
    lines: 12, // The number of lines to draw
    length: 7, // The length of each line
    width: 4, // The line thickness
    radius: 10, // The radius of the inner circle
    color: '#000', // #rgb or #rrggbb
    speed: 1, // Rounds per second
    trail: 60, // Afterglow percentage
    shadow: false // Whether to render a shadow
  };
  
  var targetElt = document.getElementById(id);
  var spinner = new Spinner(opts).spin(targetElt);


  $targetElt = $('#'+id);
  console.log($targetElt.height());
  var divWidth = $targetElt.width();
  var divHeight = $targetElt.height();
  var spinnerWidth = 48;
  var spinnerHeight = 48;
  var spinnerMarginLeft = 0;// (divWidth-spinnerWidth)/2;
  var spinnerMarginTop = 0;// (divHeight-spinnerHeight)/2;
  $('#spin').prepend('<div style="z-index: 100; position:absolute; width:'+(divWidth-spinnerMarginLeft)+'px; height:'+(divHeight-spinnerMarginTop)+'px; padding-left:'+spinnerMarginLeft+'px; padding-top:'+spinnerMarginTop+'px; vertical-align:middle; background-color:grey; opacity:0.4; filter:alpha(opacity=40); /* For IE8 and earlier */"></div>');

}
function f() {
    g();
}

function g() {
      var root= document.compatMode=='BackCompat'? document.body : document.documentElement;
    var isVerticalScrollbar= root.scrollHeight>root.clientHeight;
    var isHorizontalScrollbar= root.scrollWidth>root.clientWidth;
    console.log(isVerticalScrollbar, isHorizontalScrollbar);
    console.log(root.clientWidth, window.innerWidth);
    //Note: IE equivalents are "document.body.clientWidth" and "document.body.clientHeight"
}

function enclosingForm(id) {
    return $('#'+id).closest('div[form]').attr("form");
}

function checkAttrs() {
//  console.log();
  console.log(  enclosingForm("div1") );
  console.log(  enclosingForm("div2") );
  console.log(  enclosingForm("div3") );
//  .getAttribute("form")
}
</script>
</head>
<body>
<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border: 2px solid darkgrey;font-family:Arial">
<tr>
  <td style="border: 2px solid grey;background-color: lightgrey">blaa</td>
  <td style="border: 2px solid grey;background-color: grey"><div><button onclick="dispatch()" style="width:100%">1</button></div></td>
  <td style="border: 2px solid grey;background-color: lightgrey">drie bla bla bla bla</td>
</tr>
<tr>
  <td style="background-color: grey; height: 80px">1</td>
  <td style="background-color: #80b0ff">gjhgjhgjh</td>
  <td style="border: 2px solid red">
  <div id="spin" style="background-color:yellow">
  <table cellpadding="0" cellspacing="0" style="margin:3px; ">
<tr>
  <td style="background-color: lightgrey">2</td>
</tr>
<tr>
  <td style="background-color: lightgrey">3</td>
</tr>
<tr>
  <td style="background-color: lightgrey">4</td>
  <td style="background-color: darkgrey">
  <div class="rounded_colhead">
  <span style="background-color: grey">element</span>
</div>
</td>
  <td>
  </td>
</table>
    </div>
  </td>
</table>


<tr><td style="background-color: grey">bla</td> <td style="background-color: lightgrey">adsads</td> <td style="background-color: grey">vijftien</td></tr>
<p>
<table cellpadding="0" cellspacing="0" style="">
<div form="1">
 <div id="div1" form="2">1</div>
 <div>
  <div id="div2">2</div>
 </div>
</div>
<div id="div3">3</div>

<tr>
  <td style="background-color: lightgrey">
  
  <table cellpadding="0" cellspacing="0" class="rounded_colhead"><tr><td>  
  <span style="background: -moz-linear-gradient(#000000, #E3E2DD); background: -webkit-gradient(linear, left top, left 20, from(#fff), to(#000));">element</span>
</td></tr></table>

  </td>
  <td style="background-color: darkgrey">
  
  <table cellpadding="0" cellspacing="0" class="rounded_colhead"><tr><td>  
  <span style="background-color: grey">element</span>
  </td></tr></table>


  </td>
</table>

<div style="width: 500px; height: 500px; background-color: blue">
 <ul style="display: inline; list-style-type: none; width: 100%; height: 500px">
  <li style="display: inline">d<div style="display: inline; background-color: yellow; width: 50px; height: 60px">elt11</div></li>
  <li style="display: inline">d<div style="background-color: green">elt2</div></li>  
  
 </ul>
</div>

<!-- trying to find basic hList and vList combinators with understandable stretching
Tricky, html seems to take child table's elements into account, so [e,e,[e,e]] gets width [25%,25%,[25%,25%] instead of [33,33,[16,16]]
 -->
<table cellpadding="0" cellspacing="0" width="600px" height="400px" style="background-color: #eee">
 <tr>
  <td>


<table cellpadding="0" cellspacing="0" width="100%" height="" style="background-color: red; table-layout: auto">
 <tr>
  <td style="background-color: yellow">elt1</td>
  <td style="background-color: green">largerelement2</td>
  <td style="background-color: white; ">glue</td>
  <td style="background-color: white; width: 100%">
    <table cellpadding="0" cellspacing="0" style="background-color: red">
    <tr>
     <td style="background-color: #ccc">elt6</td>
     <td style="background-color: white; width: 100%">glue</td>
     <td style="background-color: #ccc">elt3</td>
    </tr>
   </table>
  </td>


 </tr>
 
</table>


  </td>
 </tr>
 
</table>

<table cellpadding="0" cellspacing="0" style="">
<tr><td>  </td></tr></table>
<button onclick="checkAttrs()">g</button>
<button onclick="spin('spin')">Spin!</button>
<!-- border-collapse: collapse; zodat borders samenvallen 
border-width (or any other border property) only has effect when border-style is set
-->


  <table cellpadding="0" cellspacing="0"><tr><td>  
  <span style="background-color: grey">


<!-- Dialog div that can be placed anywhere in the DOM. It's contents are centered in the middle of the page 
    <span id="dialog">
    <div style="position: absolute; top:0; left:0; width:100%; height: 100%; background-color:black; opacity:0.1; filter:alpha(opacity=40);"></div>
    <div style="position: absolute; top:0; left:0; width:100%; height: 100%; " onclick="$('#dialog').hide()">
      <table cellpadding="0" cellspacing="0" width=100% height=100% ><tr><td width=50%></td>
  <td align=center>
  <div onclick="event.stopPropagation();" style="border: 1px solid black; padding: 3px; background-color: lightgrey">
        dialogdialogdialogdialogdialogdialogdialogdialogdialogdialog<br>
      <input type=button value="Cancel"><input type=button value="Ok" onclick="alert('hallo')">
  </div>
 </td>  
 <td width=50%></td></tr></table>
    </div>
  </span> --><!-- dialog -->
    
     </span>
  </td></tr></table>


</body>
</html>