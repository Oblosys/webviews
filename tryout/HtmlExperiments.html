<html>
<head>
<script src="http://code.jquery.com/jquery-latest.js"></script>

<link href="../scr/WebViews.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
  <script type="text/javascript" src="spin.min.js"></script>
<script type="text/javascript">

$(document).ready(function(){


});
function dispatch() {
  
  g();
  eval("g = Function('console.log(\"dynamic function\");');"+
         "document.getElementById('buttonId').disabled = true;"
         
         );
    f();
    
  
}
function spin() {
    
    var opts = {
  lines: 12, // The number of lines to draw
  length: 7, // The length of each line
  width: 4, // The line thickness
  radius: 10, // The radius of the inner circle
  color: '#000', // #rgb or #rrggbb
  speed: 1, // Rounds per second
  trail: 60, // Afterglow percentage
  shadow: false // Whether to render a shadow
};
var target = document.getElementById('spin');
var spinner = new Spinner(opts).spin(target);


  console.log($('#spin').height());
  var divWidth = $('#spin').width();
  var divHeight = $('#spin').height();
  var spinnerWidth = 48;
  var spinnerHeight = 48;
  var spinnerMarginLeft = 0;// (divWidth-spinnerWidth)/2;
  var spinnerMarginTop = 0;// (divHeight-spinnerHeight)/2;
  $('#spin').prepend('<div style="z-index: 100; position:absolute; width:'+(divWidth-spinnerMarginLeft)+'px; height:'+(divHeight-spinnerMarginTop)+'px; padding-left:'+spinnerMarginLeft+'px; padding-top:'+spinnerMarginTop+'px; vertical-align:middle; background-color:grey; opacity:0.4; filter:alpha(opacity=40); /* For IE8 and earlier */"></div>');

}
function f() {
    g();
}

function g() {
      var root= document.compatMode=='BackCompat'? document.body : document.documentElement;
    var isVerticalScrollbar= root.scrollHeight>root.clientHeight;
    var isHorizontalScrollbar= root.scrollWidth>root.clientWidth;
    console.log(isVerticalScrollbar, isHorizontalScrollbar);
    console.log(root.clientWidth, window.innerWidth);
    //Note: IE equivalents are "document.body.clientWidth" and "document.body.clientHeight"
}

function enclosingForm(id) {
    return $('#'+id).closest('div[form]').attr("form");
}

function checkAttrs() {
//  console.log();
  console.log(  enclosingForm("div1") );
  console.log(  enclosingForm("div2") );
  console.log(  enclosingForm("div3") );
//  .getAttribute("form")
}
</script>
</head>
<body>
<table cellpadding="0" cellspacing="0" style="border-collapse: collapse; border: 2px solid darkgrey;font-family:Arial">
<tr>
  <td style="border: 2px solid grey;background-color: lightgrey">blaa</td>
  <td style="border: 2px solid grey;background-color: grey"><div><button onclick="dispatch()" style="width:100%">1</button></div></td>
  <td style="border: 2px solid grey;background-color: lightgrey">drie bla bla bla bla</td>
</tr>
<tr>
  <td style="background-color: grey; height: 80px">1</td>
  <td style="background-color: #80b0ff">gjhgjhgjh</td>
  <td style="border: 2px solid red">
  <div id="spin" style="background-color:yellow">
  <table cellpadding="0" cellspacing="0" style="margin:3px; ">
<tr>
  <td style="background-color: lightgrey">2</td>
</tr>
<tr>
  <td style="background-color: lightgrey">3</td>
</tr>
<tr>
  <td style="background-color: lightgrey">4</td>
  <td style="background-color: darkgrey">
  <div class="rounded_colhead">
  <span style="background-color: grey">element</span>
</div>
</td>
  <td>
  </td>
</table>
    </div>
  </td>
</table>
</body>
</html>
<tr><td style="background-color: grey">bla</td> <td style="background-color: lightgrey">adsads</td> <td style="background-color: grey">vijftien</td></tr>
<p>
<table cellpadding="0" cellspacing="0" style="">
<div form="1">
 <div id="div1" form="2">1</div>
 <div>
  <div id="div2">2</div>
 </div>
</div>
<div id="div3">3</div>

<tr>
  <td style="background-color: lightgrey">
  
  <table cellpadding="0" cellspacing="0" class="rounded_colhead"><tr><td>  
  <span style="background-color: grey">element</span>
</td></tr></table>

  </td>
  <td style="background-color: darkgrey">
  
  <table cellpadding="0" cellspacing="0" class="rounded_colhead"><tr><td>  
  <span style="background-color: grey">element</span>
  </td></tr></table>


  </td>
</table>

<table cellpadding="0" cellspacing="0" style="">
<tr><td>  </td></tr></table>
<button onclick="checkAttrs()">g</button>
<button onclick="spin()">Spin!</button>
<!-- border-collapse: collapse; zodat borders samenvallen 
border-width (or any other border property) only has effect when border-style is set
-->



</body>
</html>